{"year": "2020", "forum": "BJe1334YDH", "title": "A Learning-based Iterative Method for Solving Vehicle Routing Problems", "decision": "Accept (Poster)", "meta_review": "   The paper proposed the use of a combination of RL-based iterative improvement operator to refine the solution progressively for the capacitated vehicle routing problem. It has been shown to outperform both classical non-learning based and SOTA learning based methods. The idea is novel and the results are impressive, the presentation is clear. Also the authors addressed the concern of lacking justification on larger tasks by including an appendix of additional experiments. ", "reviews": [{"review_id": "BJe1334YDH-0", "review_text": "EDIT: I have read the responses and increased my rating to Weak Accept. The paper proposes an algorithm for the Capacitated Vehicle Routing problem that starts with a random solution and then iteratively improves it by using a learned policy to select an improvement operator to apply to the current solution. Once the solution stops improving for a number of steps, a perturbation is applied to the solution, and the iterations continue by applying improvement operators selected by the learned policy. The problem is posed as a sequential decision problem, and the policy is learned using reinforcement learning. Results on synthetic instances of size 20, 50, and 100 show that the approach is able to achieve better objective value than relevant baselines and faster running time than the LKH algorithm. Pros: - Better objective value than baselines and running time than LKH is an impressive result. - Paper is clearly written and easy to follow. CVRP and other background information is sufficient to fully understand the paper. Cons: - The proposed approach has the benefit of using a handcrafted pool of improvement operators that other learning-based approaches don\u2019t have. This makes the comparison to previous learning approaches unfair, and the observed improvements may simply be due to the extra information that the approach gets in the form of the operator pool. - The evaluation should be expanded to larger instances and existing benchmarks such as CVRPLib (which contains larger instances as well) to understand scalability and generalization to different instance distributions. For example, would the same improvement operator pool suffice for a completely different distribution of instances? Additional comments: - Typically when using RL for learning a local search policy, the reward is defined as the change in objective after applying a local move such that the sum of rewards and the initial objective value gives the actual objective value and the policy will be learning to optimize the objective function. In this paper the reward definitions RF1 and RF2 don\u2019t have this property, which suggests that the policy is not being trained to directly optimize the CVRP objective function. Is there an explanation for why it still works? - It would be useful to explore how well the self-attention network architecture scales to larger problems (e.g., > 1000 customers), and whether using a graph neural network instead results in better or worse results. - Typo: \u201csignificantly worse then\u201d - Typo: \u201ctheir would be no discounting\u201d ", "rating": "6: Weak Accept", "reply_text": "( 2 ) `` The evaluation should be expanded to larger instances and existing benchmarks such as CVRPLib ( which contains larger instances as well ) to understand scalability and generalization to different instance distributions . For example , would the same improvement operator pool suffice for a completely different distribution of instances ? '' We conducted additional experiments to analyze the performance of our approach in solving larger-scale problems and in more diverse settings . First , we tested our solver on larger-sized problems to profile its scalability performance . The results have been appended to the paper ( i.e. , Appendix D ) , which shows that our ensemble method scales well as the number of customers increases . Secondly , following the same protocol as the EJOR paper [ 6 ] , we tested our method in 4 additional settings : 1 ) central depot positioning , 2 ) eccentric depot positioning , 3 ) clustered customer positioning , and 4 ) random-clustered customer positioning . Note that the data distribution used in our initial paper corresponds to random depot and random customer positioning . The results have been appended to the paper ( i.e. , Appendix E ) . Our method work fairly robustly across different data distributions . ( 3 ) `` Reward Function '' We observed that an improvement operator often leads to larger distance reduction on freshly perturbed solutions compared to later iteration steps . In particular , the likelihood of distance reduction as well as the magnitude of such reduction , both decrease as the iteration proceeds . Therefore , it seemed unfair to give early improvement operators a larger reward . RF1 ( with +1 and -1 only ) ignores the magnitude of the raw distance reduction in order to avoid biased rewarding . For RF2 , our intuition is that operators used in the same improvement iteration should be rewarded equally , completely avoiding reward attribution . Regarding discount factors , in our experiments , we also tried different discount factors other than 1.0 , but 1.0 seemed to give us better results . We 've revised the text to make the description more clear . ( 4 ) `` It would be useful to explore how well the self-attention network architecture scales to larger problems ( e.g. , > 1000 customers ) , and whether using a graph neural network instead results in better or worse results . '' With respect to scalability , please see our reply to ( 2 ) . With respect to GNN , We agree that it could be promising to explore the idea in future work . [ 6 ] Eduardo Uchoa , Diego Pecin , Artur Pessoa , Marcus Poggi , Thibaut Vidal , and Anand Subramanian . New benchmark instances for the Capacitated Vehicle Routing Problem , European Journal of Operational Research , 257:845\u2013858 , 2017 ."}, {"review_id": "BJe1334YDH-1", "review_text": "This paper proposes a framework combining RL and OR for solving the capacitated vehicle routing problem (CVRP). The main idea is to train an RL-based controller for choosing the OR operations necessary for improving & reinitializing the solution. Additionally, an ensemble method for diversifying the solution is proposed. The proposed method is shown to empirically outperform the existing OR method LKH3 for solving CVRP. Overall, this paper provides a solid contribution by proposing a new learning-based algorithm that beats conventional solver, which is quite hard to achieve. The writing is clear and easy to read. The reference and related works look complete to my knowledge. One weakness of the paper is the lack of experiments. Since the paper focuses on the CVRP problems, it would have been nice to compare with the LKH3 on larger graphs, e.g., the case when N > 100. One could also verify the scalability of the algorithm by examining larger-scale benchmarks and compare with heuristics faster than LKH3, e.g., see [1]. I think this is crucial for demonstrating the applicability of the algorithm to real-world problems. [1] Uchoa et al., New benchmark instances for the Capacitated Vehicle Routing Problem, EJOR 2017", "rating": "6: Weak Accept", "reply_text": "Thank you for your valuable comments . We conducted additional experiments to analyze the performance of our approach in solving larger-scale problems and in more diverse settings . First , we tested our solver on larger-sized problems to profile its scalability performance . The results have been appended to the paper ( i.e. , Appendix D ) , which shows that our ensemble method scales well as the number of customers increases . In particular , the running time of our method increases less dramatically than LKH3 . Secondly , following the same protocol as the EJOR paper [ 1 ] , we tested our method in 4 additional settings : 1 ) central depot positioning , 2 ) eccentric depot positioning , 3 ) clustered customer positioning , and 4 ) random-clustered customer positioning . Note that the data distribution used in our initial paper corresponds to random depot and random customer positioning . The results have been appended to the paper ( i.e. , Appendix E ) . Our method work fairly robustly across different data distributions . [ 1 ] Eduardo Uchoa , Diego Pecin , Artur Pessoa , Marcus Poggi , Thibaut Vidal , and Anand Subramanian . New benchmark instances for the Capacitated Vehicle Routing Problem , European Journal of Operational Research , 257:845\u2013858 , 2017 ."}, {"review_id": "BJe1334YDH-2", "review_text": "Using a combination of RL-based solution as a warm start, this paper shows that by adding more improvement and perturbations, the quality of the solutions for capacitated VRP can be further improved. The numerical experiments show that with these extensions, the proposed mechanism is able to perform better than the SOTA LKH3 OR-based method in a shorter amount of time. I find the paper novel and interesting, but I have a few suggestions to further improve it: 1) Most of the mentioned operators are also valid for TSP. To provide a baseline for further research, I am expecting to see the performance of the proposed approach in TSP as well. 2) I hope that you make your code and saved models publicly available for future researchers since it might not be easy to replicate your numbers. 3) Maybe in future research, the ensemble idea can be tested for making the solution independent of problem size. This is an important possible extension. 4) That would be great if you could add a section for sensitivity analysis. How the model trained for VRP100 is working for say, VRP200, or VRP50? Minor: 1) It worths mentioning how e-greedy that is primarily used in value-based methods is incorporated in policy gradient exploration. 2) Page 7, it should be \"Figure 3(a), (b), ...\" 3) Table 3 and Table 5 overlap. Maybe, it is better to merge them together. ", "rating": "6: Weak Accept", "reply_text": "Thank you for your valuable comments . ( 1 ) We acknowledge that it 's straightforward to apply our method to solve other routing problems such as TSPs , which in fact can be cast as a special class of CVRPs . Following the submission of this work , we tested our solver on TSPs . The code was slightly modified , for example only intra-route operators were allowed because TSPs are single-route problems . The results have been appended to the paper ( i.e. , Appendix C ) . Similar to the results on CVRPs , we observed that our ensemble method out-performed all the learning-based individual policies . On TSP-100 , our solver was able to produce an average total distance that is slightly above the optimal value and that of LKH as reported in the literature . ( 2 ) Our code and all the saved models will be released with the publication of this paper . ( 3 ) Thank you for your suggestion . We will explore this idea in our future work . ( 4 ) Thanks for the suggestion . Sensitivity analysis results have been appended to the paper ( i.e. , Appendix D ) , where we tested models that were trained on problem of size X ( e.g. , CVRP-100 ) to solve problem of size Y ( e.g. , CVRP-50 and CVRP-20 ) . The results show that our method can generalize to problems of different sizes fairly well ."}], "0": {"review_id": "BJe1334YDH-0", "review_text": "EDIT: I have read the responses and increased my rating to Weak Accept. The paper proposes an algorithm for the Capacitated Vehicle Routing problem that starts with a random solution and then iteratively improves it by using a learned policy to select an improvement operator to apply to the current solution. Once the solution stops improving for a number of steps, a perturbation is applied to the solution, and the iterations continue by applying improvement operators selected by the learned policy. The problem is posed as a sequential decision problem, and the policy is learned using reinforcement learning. Results on synthetic instances of size 20, 50, and 100 show that the approach is able to achieve better objective value than relevant baselines and faster running time than the LKH algorithm. Pros: - Better objective value than baselines and running time than LKH is an impressive result. - Paper is clearly written and easy to follow. CVRP and other background information is sufficient to fully understand the paper. Cons: - The proposed approach has the benefit of using a handcrafted pool of improvement operators that other learning-based approaches don\u2019t have. This makes the comparison to previous learning approaches unfair, and the observed improvements may simply be due to the extra information that the approach gets in the form of the operator pool. - The evaluation should be expanded to larger instances and existing benchmarks such as CVRPLib (which contains larger instances as well) to understand scalability and generalization to different instance distributions. For example, would the same improvement operator pool suffice for a completely different distribution of instances? Additional comments: - Typically when using RL for learning a local search policy, the reward is defined as the change in objective after applying a local move such that the sum of rewards and the initial objective value gives the actual objective value and the policy will be learning to optimize the objective function. In this paper the reward definitions RF1 and RF2 don\u2019t have this property, which suggests that the policy is not being trained to directly optimize the CVRP objective function. Is there an explanation for why it still works? - It would be useful to explore how well the self-attention network architecture scales to larger problems (e.g., > 1000 customers), and whether using a graph neural network instead results in better or worse results. - Typo: \u201csignificantly worse then\u201d - Typo: \u201ctheir would be no discounting\u201d ", "rating": "6: Weak Accept", "reply_text": "( 2 ) `` The evaluation should be expanded to larger instances and existing benchmarks such as CVRPLib ( which contains larger instances as well ) to understand scalability and generalization to different instance distributions . For example , would the same improvement operator pool suffice for a completely different distribution of instances ? '' We conducted additional experiments to analyze the performance of our approach in solving larger-scale problems and in more diverse settings . First , we tested our solver on larger-sized problems to profile its scalability performance . The results have been appended to the paper ( i.e. , Appendix D ) , which shows that our ensemble method scales well as the number of customers increases . Secondly , following the same protocol as the EJOR paper [ 6 ] , we tested our method in 4 additional settings : 1 ) central depot positioning , 2 ) eccentric depot positioning , 3 ) clustered customer positioning , and 4 ) random-clustered customer positioning . Note that the data distribution used in our initial paper corresponds to random depot and random customer positioning . The results have been appended to the paper ( i.e. , Appendix E ) . Our method work fairly robustly across different data distributions . ( 3 ) `` Reward Function '' We observed that an improvement operator often leads to larger distance reduction on freshly perturbed solutions compared to later iteration steps . In particular , the likelihood of distance reduction as well as the magnitude of such reduction , both decrease as the iteration proceeds . Therefore , it seemed unfair to give early improvement operators a larger reward . RF1 ( with +1 and -1 only ) ignores the magnitude of the raw distance reduction in order to avoid biased rewarding . For RF2 , our intuition is that operators used in the same improvement iteration should be rewarded equally , completely avoiding reward attribution . Regarding discount factors , in our experiments , we also tried different discount factors other than 1.0 , but 1.0 seemed to give us better results . We 've revised the text to make the description more clear . ( 4 ) `` It would be useful to explore how well the self-attention network architecture scales to larger problems ( e.g. , > 1000 customers ) , and whether using a graph neural network instead results in better or worse results . '' With respect to scalability , please see our reply to ( 2 ) . With respect to GNN , We agree that it could be promising to explore the idea in future work . [ 6 ] Eduardo Uchoa , Diego Pecin , Artur Pessoa , Marcus Poggi , Thibaut Vidal , and Anand Subramanian . New benchmark instances for the Capacitated Vehicle Routing Problem , European Journal of Operational Research , 257:845\u2013858 , 2017 ."}, "1": {"review_id": "BJe1334YDH-1", "review_text": "This paper proposes a framework combining RL and OR for solving the capacitated vehicle routing problem (CVRP). The main idea is to train an RL-based controller for choosing the OR operations necessary for improving & reinitializing the solution. Additionally, an ensemble method for diversifying the solution is proposed. The proposed method is shown to empirically outperform the existing OR method LKH3 for solving CVRP. Overall, this paper provides a solid contribution by proposing a new learning-based algorithm that beats conventional solver, which is quite hard to achieve. The writing is clear and easy to read. The reference and related works look complete to my knowledge. One weakness of the paper is the lack of experiments. Since the paper focuses on the CVRP problems, it would have been nice to compare with the LKH3 on larger graphs, e.g., the case when N > 100. One could also verify the scalability of the algorithm by examining larger-scale benchmarks and compare with heuristics faster than LKH3, e.g., see [1]. I think this is crucial for demonstrating the applicability of the algorithm to real-world problems. [1] Uchoa et al., New benchmark instances for the Capacitated Vehicle Routing Problem, EJOR 2017", "rating": "6: Weak Accept", "reply_text": "Thank you for your valuable comments . We conducted additional experiments to analyze the performance of our approach in solving larger-scale problems and in more diverse settings . First , we tested our solver on larger-sized problems to profile its scalability performance . The results have been appended to the paper ( i.e. , Appendix D ) , which shows that our ensemble method scales well as the number of customers increases . In particular , the running time of our method increases less dramatically than LKH3 . Secondly , following the same protocol as the EJOR paper [ 1 ] , we tested our method in 4 additional settings : 1 ) central depot positioning , 2 ) eccentric depot positioning , 3 ) clustered customer positioning , and 4 ) random-clustered customer positioning . Note that the data distribution used in our initial paper corresponds to random depot and random customer positioning . The results have been appended to the paper ( i.e. , Appendix E ) . Our method work fairly robustly across different data distributions . [ 1 ] Eduardo Uchoa , Diego Pecin , Artur Pessoa , Marcus Poggi , Thibaut Vidal , and Anand Subramanian . New benchmark instances for the Capacitated Vehicle Routing Problem , European Journal of Operational Research , 257:845\u2013858 , 2017 ."}, "2": {"review_id": "BJe1334YDH-2", "review_text": "Using a combination of RL-based solution as a warm start, this paper shows that by adding more improvement and perturbations, the quality of the solutions for capacitated VRP can be further improved. The numerical experiments show that with these extensions, the proposed mechanism is able to perform better than the SOTA LKH3 OR-based method in a shorter amount of time. I find the paper novel and interesting, but I have a few suggestions to further improve it: 1) Most of the mentioned operators are also valid for TSP. To provide a baseline for further research, I am expecting to see the performance of the proposed approach in TSP as well. 2) I hope that you make your code and saved models publicly available for future researchers since it might not be easy to replicate your numbers. 3) Maybe in future research, the ensemble idea can be tested for making the solution independent of problem size. This is an important possible extension. 4) That would be great if you could add a section for sensitivity analysis. How the model trained for VRP100 is working for say, VRP200, or VRP50? Minor: 1) It worths mentioning how e-greedy that is primarily used in value-based methods is incorporated in policy gradient exploration. 2) Page 7, it should be \"Figure 3(a), (b), ...\" 3) Table 3 and Table 5 overlap. Maybe, it is better to merge them together. ", "rating": "6: Weak Accept", "reply_text": "Thank you for your valuable comments . ( 1 ) We acknowledge that it 's straightforward to apply our method to solve other routing problems such as TSPs , which in fact can be cast as a special class of CVRPs . Following the submission of this work , we tested our solver on TSPs . The code was slightly modified , for example only intra-route operators were allowed because TSPs are single-route problems . The results have been appended to the paper ( i.e. , Appendix C ) . Similar to the results on CVRPs , we observed that our ensemble method out-performed all the learning-based individual policies . On TSP-100 , our solver was able to produce an average total distance that is slightly above the optimal value and that of LKH as reported in the literature . ( 2 ) Our code and all the saved models will be released with the publication of this paper . ( 3 ) Thank you for your suggestion . We will explore this idea in our future work . ( 4 ) Thanks for the suggestion . Sensitivity analysis results have been appended to the paper ( i.e. , Appendix D ) , where we tested models that were trained on problem of size X ( e.g. , CVRP-100 ) to solve problem of size Y ( e.g. , CVRP-50 and CVRP-20 ) . The results show that our method can generalize to problems of different sizes fairly well ."}}